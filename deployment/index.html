
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Deployment Â· OHIF</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-cornerstone/cornerstone.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="./" />
    
    
    <link rel="prev" href="../services/ui/ui-notification-service.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                



<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../our-process.html">
            
                <a href="../our-process.html">
            
                    
                    Our Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Development
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../development/getting-started.html">
            
                <a href="../development/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../development/contributing.html">
            
                <a href="../development/contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../development/continous-integration.html">
            
                <a href="../development/continous-integration.html">
            
                    
                    Continuous Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../development/testing.html">
            
                <a href="../development/testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../configuring/">
            
                <a href="../configuring/">
            
                    
                    Configuring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../configuring/data-source.html">
            
                <a href="../configuring/data-source.html">
            
                    
                    Data Source
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../architecture/">
            
                <a href="../architecture/">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../viewer/">
            
                <a href="../viewer/">
            
                    
                    Viewer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../viewer/configuration.html">
            
                <a href="../viewer/configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../viewer/themeing.html">
            
                <a href="../viewer/themeing.html">
            
                    
                    Themeing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../viewer/internationalization.html">
            
                <a href="../viewer/internationalization.html">
            
                    
                    Internationalization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../extensions/">
            
                <a href="../extensions/">
            
                    
                    Extensions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../extensions/">
            
                <a href="../extensions/#registering-an-extension">
            
                    
                    Registering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../extensions/">
            
                <a href="../extensions/#lifecycle-hooks">
            
                    
                    Lifecycle Hooks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.2.1" data-path="../extensions/lifecycle/pre-registration.html">
            
                <a href="../extensions/lifecycle/pre-registration.html">
            
                    
                    preRegistration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../extensions/">
            
                <a href="../extensions/#modules">
            
                    
                    Modules
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.3.1" data-path="../extensions/modules/commands.html">
            
                <a href="../extensions/modules/commands.html">
            
                    
                    Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3.2" data-path="../extensions/modules/panel.html">
            
                <a href="../extensions/modules/panel.html">
            
                    
                    Panel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3.3" data-path="../extensions/modules/sop-class-handler.html">
            
                <a href="../extensions/modules/sop-class-handler.html">
            
                    
                    SOP Class Handler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3.4" data-path="../extensions/modules/toolbar.html">
            
                <a href="../extensions/modules/toolbar.html">
            
                    
                    Toolbar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3.5" data-path="../extensions/modules/viewport.html">
            
                <a href="../extensions/modules/viewport.html">
            
                    
                    Viewport
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../extensions/">
            
                <a href="../extensions/#contexts">
            
                    
                    Contexts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="../extensions/">
            
                <a href="../extensions/#extensionmanager">
            
                    
                    ExtensionManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.6" data-path="../extensions/">
            
                <a href="../extensions/#maintained-extensions">
            
                    
                    OHIF Maintained
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../services/">
            
                <a href="../services/">
            
                    
                    Services
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../services/default/">
            
                <a href="../services/default/">
            
                    
                    Default
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../services/ui/">
            
                <a href="../services/ui/">
            
                    
                    UI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.2.1" data-path="../services/ui/ui-dialog-service.html">
            
                <a href="../services/ui/ui-dialog-service.html">
            
                    
                    Dialog Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.2" data-path="../services/ui/ui-modal-service.html">
            
                <a href="../services/ui/ui-modal-service.html">
            
                    
                    Modal Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2.3" data-path="../services/ui/ui-notification-service.html">
            
                <a href="../services/ui/ui-notification-service.html">
            
                    
                    Notification Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter active" data-level="3.1" data-path="./">
            
                <a href="./">
            
                    
                    Deployment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="./">
            
                <a href="./#embedded-viewer">
            
                    
                    Embedded
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="./">
            
                <a href="./#stand-alone-viewer">
            
                    
                    Stand-alone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="./">
            
                <a href="./#data">
            
                    
                    Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <span>
            
                    
                    Recipes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" >
            
                <span>
            
                    
                    Script Include
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1.1" data-path="recipes/embedded-viewer.html">
            
                <a href="recipes/embedded-viewer.html">
            
                    
                    Embedding the Viewer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2.2" >
            
                <span>
            
                    
                    Stand-Alone
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.2.1" data-path="recipes/build-for-production.html">
            
                <a href="recipes/build-for-production.html">
            
                    
                    Build for Production
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2.2" data-path="recipes/static-assets.html">
            
                <a href="recipes/static-assets.html">
            
                    
                    Static
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2.3" data-path="recipes/nginx--image-archive.html">
            
                <a href="recipes/nginx--image-archive.html">
            
                    
                    Nginx + Image Archive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2.4" data-path="recipes/user-account-control.html">
            
                <a href="recipes/user-account-control.html">
            
                    
                    User Account Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2.5" data-path="../connecting-to-image-archives/google-cloud-healthcare.html">
            
                <a href="../connecting-to-image-archives/google-cloud-healthcare.html">
            
                    
                    Google Cloud Healthcare
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../faq/">
            
                <a href="../faq/">
            
                    
                    FAQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../faq/scope-of-project.html">
            
                <a href="../faq/scope-of-project.html">
            
                    
                    Scope of Project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../faq/browser-support.html">
            
                <a href="../faq/browser-support.html">
            
                    
                    Browser Support
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../faq/pwa-vs-packaged.html">
            
                <a href="../faq/pwa-vs-packaged.html">
            
                    
                    PWA vs Packaged
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../help.html">
            
                <a href="../help.html">
            
                    
                    Help
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>



                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
  
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Deployment</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="deployment"><a name="deployment" class="plugin-anchor" href="#deployment"><i class="fa fa-link" aria-hidden="true"></i></a>Deployment</h1>
<p>The OHIF Viewer can be embedded in other web applications via it&apos;s <a href="https://www.npmjs.com/package/@ohif/viewer" target="_blank">packaged
script source</a>, or served up as a stand-alone PWA (<a href="https://developers.google.com/web/progressive-web-apps/" target="_blank">progressive web
application</a>) by building and hosting a collection of static assets. In
either case, you will need to configure your instance of the Viewer so that it
can connect to your data source (the database or PACS that provides the data
your Viewer will display).</p>
<h2 id="overview"><a name="overview" class="plugin-anchor" href="#overview"><i class="fa fa-link" aria-hidden="true"></i></a>Overview</h2>
<p>Our goal is to make deployment as simple and painless as possible; however,
there is an inherent amount of complexity in configuring and deploying web
applications. If you find yourself a little lost, please don&apos;t hesitate to
<a href="../help.html">reach out for help</a></p>
<h2 id="deployment-scenarios"><a name="deployment-scenarios" class="plugin-anchor" href="#deployment-scenarios"><i class="fa fa-link" aria-hidden="true"></i></a>Deployment Scenarios</h2>
<h3 id="embedded-viewer"><a name="embedded-viewer" class="plugin-anchor" href="#embedded-viewer"><i class="fa fa-link" aria-hidden="true"></i></a>Embedded Viewer</h3>
<p>The quickest and easiest way to get the OHIF Viewer up and running is to embed
it into an existing web application. It allows us to forego a &quot;build step&quot;, and
add a powerful medical imaging viewer to an existing web page using only a few
include tags.</p>
<ul>
<li>Read more about it here: <a href="recipes/embedded-viewer.html">Embedded Viewer</a></li>
<li>And check out our <a href="https://codesandbox.io/s/viewer-script-tag-tprch" target="_blank">live demo on CodeSandbox</a></li>
</ul>
<div style="text-align: center;">
  <img src="../assets/img/embedded-viewer-diagram.png" alt="Embedded Viewer Diagram" style="margin: 0 auto;">
  <div><i>embedded viewer diagram</i></div>
</div>


<h3 id="stand-alone-viewer"><a name="stand-alone-viewer" class="plugin-anchor" href="#stand-alone-viewer"><i class="fa fa-link" aria-hidden="true"></i></a>Stand-alone Viewer</h3>
<p>Deploying the OHIF Viewer as a stand-alone web application provides many
benefits, but comes at the cost of time and complexity. Some benefits include:</p>
<p><em>Today:</em></p>
<ul>
<li>Leverage <a href="../extensions/">extensions</a> to drop-in powerful new features</li>
<li>Add routes and customize the viewer&apos;s workflow</li>
<li>Finer control over styling and whitelabeling</li>
</ul>
<p><em>In the future:</em></p>
<ul>
<li>The ability to package the viewer for <a href="https://medium.freecodecamp.org/i-built-a-pwa-and-published-it-in-3-app-stores-heres-what-i-learned-7cb3f56daf9b" target="_blank">App Store distribution</a></li>
<li>Leverage <code>service-workers</code> for offline support and speed benefits from caching</li>
</ul>
<h4 id="hosted-static-assets"><a name="hosted-static-assets" class="plugin-anchor" href="#hosted-static-assets"><i class="fa fa-link" aria-hidden="true"></i></a>Hosted Static Assets</h4>
<p>At the end of the day, a production OHIF Viewer instance is a collection of
HTML, CSS, JS, Font Files, and Images. We &quot;build&quot; those files from our
<code>source code</code> with configuration specific to our project. We then make those
files publicly accessible by hosting them on a Web Server.</p>
<p>If you have not deployed a web application before, this may be a good time to
<a href="../help.html">reach out for help</a>, as these steps assume prior web development and
deployment experience.</p>
<h5 id="part-1---build-production-assets"><a name="part-1---build-production-assets" class="plugin-anchor" href="#part-1---build-production-assets"><i class="fa fa-link" aria-hidden="true"></i></a>Part 1 - Build Production Assets</h5>
<p>&quot;Building&quot;, or creating, the files you will need is the same regardless of the
web host you choose. You can find detailed instructions on how to configure and
build the OHIF Viewer in our
<a href="recipes/build-for-production.html">&quot;Build for Production&quot; guide</a>.</p>
<h5 id="part-2---host-your-app"><a name="part-2---host-your-app" class="plugin-anchor" href="#part-2---host-your-app"><i class="fa fa-link" aria-hidden="true"></i></a>Part 2 - Host Your App</h5>
<p>There are a lot of <a href="https://www.netlify.com/blog/2016/05/18/9-reasons-your-site-should-be-static/" target="_blank">benefits to hosting static assets</a> over
dynamic content. You can find instructions on how to host your build&apos;s output
via one of these guides:</p>
<p><em>Drag-n-drop</em></p>
<ul>
<li><a href="recipes/static-assets.html#netlify-drop">Netlify: Drop</a></li>
</ul>
<p><em>Easy</em></p>
<ul>
<li><a href="recipes/static-assets.html#surgesh">Surge.sh</a></li>
<li><a href="recipes/static-assets.html#github-pages">GitHub Pages</a></li>
</ul>
<p><em>Advanced</em></p>
<ul>
<li><a href="recipes/static-assets.html#aws-s3--cloudfront">AWS S3 + Cloudfront</a></li>
<li><a href="recipes/static-assets.html#gcp--cloudflare">GCP + Cloudflare</a></li>
<li><a href="recipes/static-assets.html#azure">Azure</a></li>
</ul>
<h2 id="data"><a name="data" class="plugin-anchor" href="#data"><i class="fa fa-link" aria-hidden="true"></i></a>Data</h2>
<p>The OHIF Viewer is able to connect to any data source that implements the <a href="https://www.dicomstandard.org/dicomweb/" target="_blank">DICOM
Web Standard</a>. <a href="https://en.wikipedia.org/wiki/DICOMweb" target="_blank">DICOM Web</a> refers to RESTful
DICOM Services -- a recently standardized set of guidelines for exchanging
medical images and imaging metadata over the internet. Not all archives fully
support it yet, but it is gaining wider adoption.</p>
<h3 id="configure-connection"><a name="configure-connection" class="plugin-anchor" href="#configure-connection"><i class="fa fa-link" aria-hidden="true"></i></a>Configure Connection</h3>
<p>If you have an existing archive and intend to host the OHIF Viewer at the same
domain name as your archive, then connecting the two is as simple as following
the steps layed out in our
<a href="../configuring/">Configuration Essentials Guide</a>.</p>
<h4 id="what-if-i-dont-have-an-imaging-archive"><a name="what-if-i-dont-have-an-imaging-archive" class="plugin-anchor" href="#what-if-i-dont-have-an-imaging-archive"><i class="fa fa-link" aria-hidden="true"></i></a>What if I don&apos;t have an imaging archive?</h4>
<p>We provide some guidance on configuring a local image archive in our
<a href="../configuring/data-source.html">Data Source Essentials</a> guide. Hosting an
archive remotely is a little trickier. You can check out some of our
<a href="#recipes">advanced recipes</a> for modeled setups that may work for you.</p>
<h4 id="what-if-i-intend-to-host-the-ohif-viewer-at-a-different-domain"><a name="what-if-i-intend-to-host-the-ohif-viewer-at-a-different-domain" class="plugin-anchor" href="#what-if-i-intend-to-host-the-ohif-viewer-at-a-different-domain"><i class="fa fa-link" aria-hidden="true"></i></a>What if I intend to host the OHIF Viewer at a different domain?</h4>
<p>There are two important steps to making sure this setup works:</p>
<ol>
<li>Your Image Archive needs to be exposed, in some way, to the open web. This
can be directly, or through a <code>reverse proxy</code>, but the Viewer needs <em>some
way</em> to request it&apos;s data.</li>
<li>* Your Image Archive needs to have appropriate CORS (Cross-Origin Resource
Sharing) Headers</li>
</ol>
<blockquote>
<p>* Cross-Origin Resource Sharing (CORS) is a mechanism that uses additional
HTTP headers to tell a browser to let a web application running at one origin
(domain) have permission to access selected resources from a server at a
different origin. - <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank">MDN Web Docs: Web - Http - CORS</a></p>
</blockquote>
<p>Most image archives do not provide either of these features &quot;out of the box&quot;.
It&apos;s common to use IIS, Nginx, or Apache to route incoming requests and append
appropriate headers. You can find an example of this setup in our
<a href="recipes/nginx--image-archive.html">Nginx + Image Archive Deployment Recipe</a>.</p>
<h4 id="what-if-my-archive-doesnt-support-dicomweb"><a name="what-if-my-archive-doesnt-support-dicomweb" class="plugin-anchor" href="#what-if-my-archive-doesnt-support-dicomweb"><i class="fa fa-link" aria-hidden="true"></i></a>What if my archive doesn&apos;t support DicomWeb?</h4>
<p>It&apos;s possible to supply all Study data via JSON format, in the event you do not have a DicomWeb endpoint.
You can host all of the relevant files on any web accessible server (Amazon S3, Azure Blob Storage, Local file server etc.)</p>
<p>This JSON is supplied via the &apos;?url=&apos; query parameter.
It should reference an endpoint that returns <strong>application/json</strong> formatted text.</p>
<p>If you do not have an API, you can simply return a text file containing the JSON from any web server.</p>
<p>You tell the OHIF viewer to use JSON by appending the <code>&apos;?url=&apos;</code> query to the <code>/Viewer</code> route:</p>
<p>eg. <code>https://my-test-ohif-server/viewer?url=https://my-json-server/study-uid.json</code></p>
<p>The returned JSON object must contain a single root object with a &apos;studies&apos; array.</p>
<p><em>Sample JSON format:</em></p>
<pre><code class="lang-JSON">{
    <span class="hljs-string">&quot;studies&quot;</span>: [
      {
        <span class="hljs-string">&quot;StudyInstanceUID&quot;</span>: <span class="hljs-string">&quot;1.2.840.113619.2.5.1762583153.215519.978957063.78&quot;</span>,
        <span class="hljs-string">&quot;StudyDescription&quot;</span>: <span class="hljs-string">&quot;BRAIN SELLA&quot;</span>,
        <span class="hljs-string">&quot;StudyDate&quot;</span>: <span class="hljs-string">&quot;20010108&quot;</span>,
        <span class="hljs-string">&quot;StudyTime&quot;</span>: <span class="hljs-string">&quot;120022&quot;</span>,
        <span class="hljs-string">&quot;PatientName&quot;</span>: <span class="hljs-string">&quot;MISTER^MR&quot;</span>,
        <span class="hljs-string">&quot;PatientId&quot;</span>: <span class="hljs-string">&quot;832040&quot;</span>,
        <span class="hljs-string">&quot;series&quot;</span>: [
          {
            <span class="hljs-string">&quot;SeriesDescription&quot;</span>: <span class="hljs-string">&quot;SAG T-1&quot;</span>,
            <span class="hljs-string">&quot;SeriesInstanceUID&quot;</span>: <span class="hljs-string">&quot;1.2.840.113619.2.5.1762583153.215519.978957063.121&quot;</span>,
            <span class="hljs-string">&quot;SeriesNumber&quot;</span>: <span class="hljs-number">2</span>,
            <span class="hljs-string">&quot;SeriesDate&quot;</span>: <span class="hljs-string">&quot;20010108&quot;</span>,
            <span class="hljs-string">&quot;SeriesTime&quot;</span>: <span class="hljs-string">&quot;120318&quot;</span>,
            <span class="hljs-string">&quot;Modality&quot;</span>: <span class="hljs-string">&quot;MR&quot;</span>,
            <span class="hljs-string">&quot;instances&quot;</span>: [
              {
                <span class="hljs-string">&quot;metadata&quot;</span>: {
                    <span class="hljs-string">&quot;Columns&quot;</span>: <span class="hljs-number">512</span>,
                    <span class="hljs-string">&quot;Rows&quot;</span>: <span class="hljs-number">512</span>,
                    <span class="hljs-string">&quot;InstanceNumber&quot;</span>: <span class="hljs-number">3</span>,
                    <span class="hljs-string">&quot;AcquisitionNumber&quot;</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-string">&quot;PhotometricInterpretation&quot;</span>: <span class="hljs-string">&quot;MONOCHROME2&quot;</span>,
                    <span class="hljs-string">&quot;BitsAllocated&quot;</span>: <span class="hljs-number">16</span>,
                    <span class="hljs-string">&quot;BitsStored&quot;</span>: <span class="hljs-number">16</span>,
                    <span class="hljs-string">&quot;PixelRepresentation&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;SamplesPerPixel&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;PixelSpacing&quot;</span>: [<span class="hljs-number">0.390625</span>, <span class="hljs-number">0.390625</span>],
                    <span class="hljs-string">&quot;HighBit&quot;</span>: <span class="hljs-number">15</span>,
                    <span class="hljs-string">&quot;ImageOrientationPatient&quot;</span>: [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>],
                    <span class="hljs-string">&quot;ImagePositionPatient&quot;</span>: [<span class="hljs-number">11.600000</span>,<span class="hljs-number">-92.500000</span>, <span class="hljs-number">98.099998</span>],
                    <span class="hljs-string">&quot;FrameOfReferenceUID&quot;</span>: <span class="hljs-string">&quot;1.2.840.113619.2.5.1762583153.223134.978956938.470&quot;</span>,
                    <span class="hljs-string">&quot;ImageType&quot;</span>: [<span class="hljs-string">&quot;ORIGINAL&quot;</span>,<span class="hljs-string">&quot;PRIMARY&quot;</span>,<span class="hljs-string">&quot;OTHER&quot;</span>],
                    <span class="hljs-string">&quot;Modality&quot;</span>: <span class="hljs-string">&quot;MR&quot;</span>,
                    <span class="hljs-string">&quot;SOPInstanceUID&quot;</span>: <span class="hljs-string">&quot;1.2.840.113619.2.5.1762583153.215519.978957063.124&quot;</span>,
                    <span class="hljs-string">&quot;SeriesInstanceUID&quot;</span>: <span class="hljs-string">&quot;1.2.840.113619.2.5.1762583153.215519.978957063.121&quot;</span>,
                    <span class="hljs-string">&quot;StudyInstanceUID&quot;</span>: <span class="hljs-string">&quot;1.2.840.113619.2.5.1762583153.215519.978957063.78&quot;</span>
                },
                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;dicomweb://s3.amazonaws.com/lury/MRStudy/1.2.840.113619.2.5.1762583153.215519.978957063.124.dcm&quot;</span>
             }
           ]
         }
       ]
     }
   ]
}
</code></pre>
<p>More info on this JSON format can be found here <a href="https://github.com/OHIF/Viewers/issues/1500" target="_blank">Issue #1500</a></p>
<p><strong>Implementation Notes:</strong></p>
<ol>
<li>When hosting the viewer, you will also need to host a /viewer route on the server - or the browser may not be able to find the route.</li>
<li>For each instance url (dicom object) in the returned JSON, you must prefix the <code>url</code> with <code>dicomweb:</code> in order for the cornerstone image loader to retrieve it correctly.
eg. <code>https://image-server/my-image.dcm</code> ---&gt; <code>dicomweb:https://image-server/my-image.dcm</code></li>
<li>The JSON format above is compatible with &gt;= v3.7.8 of the application. Older versions of the viewer used a different JSON format. As of 20/04/20 the public [<a href="https://viewer.ohif.org/" target="_blank">https://viewer.ohif.org/</a>] is a pre 3.0 version that does not support this format yet.</li>
<li>The JSON format is case-sensitive. Please ensure you have matched casing with the naturalised Dicom format referenced in <a href="https://github.com/OHIF/Viewers/issues/1500" target="_blank">Issue #1500</a>.</li>
</ol>
<p><em>CORS Issues (Cross-Origin Resource Sharing)</em></p>
<p>If you host a JSON API or Images on a different domain from the the app itself, you will likely have CORS issues. This will also happen when testing from Localhost and reaching out to remote servers.
Even if the domain is the same, different ports, subdomains or protocols (https vs http) will also cause CORS errors.
You will to need add a configuration on each server hosting these assets to allow your App server origin.</p>
<p>For example:</p>
<p>Lets assume your application is hosted on <code>https://my-ohif-server.com</code>.</p>
<p>Your JSON API is hosted on <code>https://my-json-api.aws.com</code></p>
<p>And your images are stored on Amazon S3 at <code>https://my-s3-bucket.aws.com</code></p>
<p>When you first start your application, browsing to <code>https://my-ohif-server.com/viewer?url=https://my-json-api.aws.com/api/my-json-study-info.json</code>, you will likely get a CORS error in the browser console as it tries to connect to <code>https://my-json-api.aws.com</code>.</p>
<p>Adding a setting on the JSON server to allow the CORS origin = <code>https://my-ohif-server.com</code> should solve this.</p>
<p>Next, you will likely get a similar CORS error, as the browser tries to go to <code>https://my-s3-bucket.aws.com</code>.
You will need to go to the S3 bucket configuration, and add a CORS setting to allow origin = <code>https://my-ohif-server.com</code>.</p>
<p>Essentially, whenever the application connects to a remote resource, you will need to add the applications url to the allowed CORS Origins on that resource. Adding an origin similar to <a href="https://localhost:3000" target="_blank">https://localhost:3000</a> will also allow for local testing.</p>
<h3 id="securing-your-data"><a name="securing-your-data" class="plugin-anchor" href="#securing-your-data"><i class="fa fa-link" aria-hidden="true"></i></a>Securing Your Data</h3>
<blockquote>
<p>Feeling lost? Securing your data is important, and it can be hard to tell if
you&apos;ve gotten it right. Don&apos;t hesitate to work with professional auditors, or
<a href="../help.html">enlist help from experts</a>.</p>
</blockquote>
<p>The OHIF Viewer can be configured to work with authorization servers that
support one or more of the OpenID-Connect authorization flows. The Viewer finds
it&apos;s OpenID-Connect settings on the <code>oidc</code> configuration key. You can set these
values following the instructions laid out in the
<a href="../configuring/">Configuration Essentials Guide</a>.</p>
<p><em>Example OpenID-Connect Settings:</em></p>
<pre><code class="lang-js"><span class="hljs-built_in">window</span>.config = {
  ...
  oidc: [
    {
      <span class="hljs-comment">// ~ REQUIRED</span>
      <span class="hljs-comment">// Authorization Server URL</span>
      authority: <span class="hljs-string">&apos;http://127.0.0.1/auth/realms/ohif&apos;</span>,
      client_id: <span class="hljs-string">&apos;ohif-viewer&apos;</span>,
      redirect_uri: <span class="hljs-string">&apos;http://127.0.0.1/callback&apos;</span>, <span class="hljs-comment">// `OHIFStandaloneViewer.js`</span>
      response_type: <span class="hljs-string">&apos;code&apos;</span>, <span class="hljs-comment">// &quot;Authorization Code Flow&quot;</span>
      scope: <span class="hljs-string">&apos;openid&apos;</span>, <span class="hljs-comment">// email profile openid</span>
      <span class="hljs-comment">// ~ OPTIONAL</span>
      post_logout_redirect_uri: <span class="hljs-string">&apos;/logout-redirect.html&apos;</span>,
    },
  ],
}
</code></pre>
<p>You can find an example of this setup in our
<a href="recipes/user-account-control.html">User Account Control Deployment Recipe</a>.</p>
<h4 id="choosing-a-flow-for-the-viewer"><a name="choosing-a-flow-for-the-viewer" class="plugin-anchor" href="#choosing-a-flow-for-the-viewer"><i class="fa fa-link" aria-hidden="true"></i></a>Choosing a Flow for the Viewer</h4>
<p>In general, we recommend using the &quot;Authorization Code Flow&quot; ( <a href="https://medium.com/@darutk/diagrams-of-all-the-openid-connect-flows-6968e3990660" target="_blank">see
<code>response_type=code</code> here</a>); however, the &quot;Implicit Flow&quot; ( <a href="https://medium.com/@darutk/diagrams-of-all-the-openid-connect-flows-6968e3990660" target="_blank">see
<code>response_type=token</code> here</a>) can work if additonal precautions are
taken. If the flow you&apos;ve chosen produces a JWT Token, it&apos;s validity can be used
to secure access to your Image Archive as well.</p>
<h3 id="recipes"><a name="recipes" class="plugin-anchor" href="#recipes"><i class="fa fa-link" aria-hidden="true"></i></a>Recipes</h3>
<p>We&apos;ve included a few recipes for common deployment scenarios. There are many,
many possible configurations, so please don&apos;t feel limited to these setups.
Please feel free to suggest or contribute your own recipes.</p>
<ul>
<li>Script Include<ul>
<li><a href="recipes/embedded-viewer.html">Embedding the Viewer</a></li>
</ul>
</li>
<li>Stand-Alone<ul>
<li><a href="recipes/build-for-production.html">Build for Production</a></li>
<li><a href="recipes/static-assets.html">Static</a></li>
<li><a href="recipes/nginx--image-archive.html">Nginx + Image Archive</a></li>
<li><a href="recipes/user-account-control.html">User Account Control</a></li>
</ul>
</li>
</ul>
<!--
  Links
  -->
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                

            </div>

            
                
                <a href="../services/ui/ui-notification-service.html" class="navigation navigation-prev " aria-label="Previous page: Notification Service">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="./#embedded-viewer" class="navigation navigation-next " aria-label="Next page: Embedded">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Deployment","level":"3.1","depth":1,"next":{"title":"Embedded","level":"3.1.1","depth":2,"anchor":"#embedded-viewer","path":"deployment/index.md","ref":"deployment/index.md#embedded-viewer","articles":[]},"previous":{"title":"Notification Service","level":"2.4.2.3","depth":3,"path":"services/ui/ui-notification-service.md","ref":"services/ui/ui-notification-service.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","theme-cornerstone","-fontsettings","github","ga","sitemap","anchors","versions"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/OHIF/Viewers"},"search":{},"theme-cornerstone":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"highlight":{},"sitemap":{"hostname":"https://docs.ohif.org"},"ga":{"configuration":"auto","token":"UA-110573590-2"},"versions":{"type":"branches","gitbookConfigURL":"https://raw.githubusercontent.com/OHIF/Viewers/master/docs/book.json","options":[{"value":"https://docs.ohif.org/history/v1/","text":"Version 1.0.0 (Meteor)"},{"value":"https://docs.ohif.org/","text":"Version 2.0.0","selected":true}]},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/OHIF/Viewers/edit/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"OHIF","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":">3.0.0","description":"Documentation for the OHIF framework"},"file":{"path":"deployment/index.md","mtime":"2020-05-04T08:13:37.785Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-04T08:14:53.684Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-versions/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    

    </body>
</html>

